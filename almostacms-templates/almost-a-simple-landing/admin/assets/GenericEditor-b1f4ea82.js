import{r as l,R,j as e}from"./index-a4f5a16b.js";function I({title:i,titleId:r,...o},d){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},o),i?l.createElement("title",{id:r},i):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const D=l.forwardRef(I),L=D;function F({title:i,titleId:r,...o},d){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},o),i?l.createElement("title",{id:r},i):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const J=l.forwardRef(F),S=J;function A({title:i,titleId:r,...o},d){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},o),i?l.createElement("title",{id:r},i):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const M=l.forwardRef(A),E=M;function P({title:i,titleId:r,...o},d){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},o),i?l.createElement("title",{id:r},i):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const B=l.forwardRef(P),$=B;function T({title:i,titleId:r,...o},d){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:d,"aria-labelledby":r},o),i?l.createElement("title",{id:r},i):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const W=l.forwardRef(T),U=W,z=["âœ¨","âš¡","ðŸš€","ðŸ’Ž","ðŸŽ‰","ðŸ”¥","â­","ðŸ’¡","ðŸŽ¯","ðŸŒŸ","ðŸ’ª","ðŸ†","â¤ï¸","ðŸ‘","âœ…","ðŸŽ¨","ðŸ“±","ðŸ’»","ðŸŒˆ","ðŸŽ","â˜•","ðŸ•","ðŸŽµ","ðŸŽ®","ðŸƒ","ðŸŒ","ðŸŒ™","â˜€ï¸","âš½","ðŸŽ¸","ðŸ“š","ðŸ”§"],H=({isOpen:i,onClose:r,onSelectEmoji:o,currentEmoji:d="",buttonClassName:g="absolute right-2 top-2 px-2 py-1 text-xs bg-blue-50 hover:bg-blue-100 text-blue-600 rounded transition-colors",pickerClassName:h="absolute z-10 mt-2 p-3 bg-white border-2 border-gray-300 rounded-lg shadow-xl grid grid-cols-8 gap-1"})=>{const j=u=>{o(u),r()};return i?e.jsx("div",{className:h,style:{minWidth:"280px"},children:z.map(u=>e.jsx("button",{type:"button",onClick:()=>j(u),className:`w-10 h-10 flex items-center justify-center text-2xl hover:bg-gray-100 rounded transition-colors ${u===d?"bg-blue-100 ring-2 ring-blue-500":""}`,title:u,children:u},u))}):null},V=({value:i,onChange:r,label:o,placeholder:d="âœ¨",buttonColor:g="blue",disabled:h=!1})=>{const[j,u]=R.useState(!1),b={blue:"bg-blue-50 hover:bg-blue-100 text-blue-600",purple:"bg-purple-50 hover:bg-purple-100 text-purple-600",green:"bg-green-50 hover:bg-green-100 text-green-600",red:"bg-red-50 hover:bg-red-100 text-red-600",pink:"bg-pink-50 hover:bg-pink-100 text-pink-600"};return e.jsxs("div",{className:"relative",children:[o&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:o}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:i,onChange:f=>r(f.target.value),disabled:h,className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 transition-all text-center text-2xl disabled:bg-gray-100 disabled:text-gray-500",placeholder:d}),e.jsx("button",{type:"button",onClick:()=>u(!j),disabled:h,className:`absolute right-2 top-2 px-2 py-1 text-xs rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${b[g]}`,children:"Pick"})]}),e.jsx(H,{isOpen:j,onClose:()=>u(!1),onSelectEmoji:r,currentEmoji:i})]})};function _(i,r){const o=i.toLowerCase();return typeof r=="boolean"?"boolean":typeof r=="number"?"number":typeof r=="string"&&r.length<=4&&/^[\p{Emoji}\u200d]+$/u.test(r)||o.includes("emoji")||o.includes("icon")?"emoji":o.includes("url")||o.includes("link")||o.includes("href")?"url":o.includes("email")?"email":o.includes("description")||o.includes("text")||o.includes("content")?"textarea":"text"}function O(i){return i.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^./,r=>r.toUpperCase()).trim()}const G=({data:i,onChange:r,title:o="Edit Content"})=>{const[d,g]=l.useState(i),[h,j]=l.useState(new Set);l.useEffect(()=>{g(i)},[i]);const u=(a,s)=>{const n=JSON.parse(JSON.stringify(d));let t=n;for(let c=0;c<a.length-1;c++)t=t[a[c]];t[a[a.length-1]]=s,g(n),r(n)},b=a=>{const s=new Set(h);s.has(a)?s.delete(a):s.add(a),j(s)},f=(a,s)=>{const n=JSON.parse(JSON.stringify(d));let t=n;for(const c of a)t=t[c];t.push(JSON.parse(JSON.stringify(s))),g(n),r(n)},p=(a,s)=>{const n=JSON.parse(JSON.stringify(d));let t=n;for(const c of a)t=t[c];t.splice(s,1),g(n),r(n)},y=(a,s,n)=>{const t=JSON.parse(JSON.stringify(d));let c=t;for(const x of a)c=c[x];const m=n==="up"?s-1:s+1;m<0||m>=c.length||([c[s],c[m]]=[c[m],c[s]],g(t),r(t))},N=(a,s,n=[])=>{const t=[...n,a],c=_(a,s),m=O(a);return c==="emoji"?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 min-w-[80px]",children:m}),e.jsx("div",{className:"w-32",children:e.jsx(V,{value:s,onChange:x=>u(t,x),placeholder:"âœ¨"})})]},a):c==="boolean"?e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",id:t.join("."),checked:s,onChange:x=>u(t,x.target.checked),className:"h-5 w-5 text-blue-600 focus:ring-2 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"}),e.jsx("label",{htmlFor:t.join("."),className:"text-sm font-medium text-gray-700 cursor-pointer select-none",children:m})]},a):c==="textarea"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:m}),e.jsx("textarea",{value:s,onChange:x=>u(t,x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y min-h-[100px] text-sm text-gray-900 placeholder-gray-400 transition-shadow hover:border-gray-400",rows:4,placeholder:`Enter ${m.toLowerCase()}...`})]},a):e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:m}),e.jsx("input",{type:c,value:s,onChange:x=>{const k=c==="number"?Number(x.target.value):x.target.value;u(t,k)},className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900 placeholder-gray-400 transition-shadow hover:border-gray-400",placeholder:`Enter ${m.toLowerCase()}...`})]},a)},C=(a,s,n=[])=>{const t=[...n,a],c=O(a),m=s.length>0?s[0]:{},x=h.has(t.join("."));return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>b(t.join(".")),className:"flex items-center space-x-3 text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors group",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-blue-100 text-blue-600 group-hover:bg-blue-200 transition-colors",children:x?e.jsx(S,{className:"h-5 w-5"}):e.jsx(E,{className:"h-5 w-5"})}),e.jsx("span",{children:c}),e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.length," ",s.length===1?"item":"items"]})]}),e.jsxs("button",{onClick:()=>f(t,m),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-sm hover:shadow-md",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Add ",c.slice(0,-1)]})]})]})}),!x&&e.jsx("div",{className:"p-6 space-y-4 bg-gray-50",children:s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:e.jsx(L,{className:"h-8 w-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"No items yet"}),e.jsxs("button",{onClick:()=>f(t,m),className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Add First Item"]})]}):s.map((k,w)=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gray-200 text-gray-600",children:e.jsx(L,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[c.slice(0,-1)," #",w+1]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[w>0&&e.jsx("button",{onClick:()=>y(t,w,"up"),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Move up",children:e.jsx(E,{className:"h-4 w-4"})}),w<s.length-1&&e.jsx("button",{onClick:()=>y(t,w,"down"),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Move down",children:e.jsx(S,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>p(t,w),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove",children:e.jsx(U,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"p-4 space-y-4",children:v(k,[...t,w])})]},w))})]},a)},v=(a,s=[])=>Object.entries(a).map(([n,t])=>{if(t==null)return null;if(Array.isArray(t))return C(n,t,s.map(String));if(typeof t=="object"){const c=[...s.map(String),n],m=h.has(c.join("."));return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-5 mb-4",children:[e.jsxs("button",{onClick:()=>b(c.join(".")),className:"flex items-center space-x-2 text-base font-semibold text-gray-800 hover:text-blue-600 transition-colors w-full text-left",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded bg-gray-100 text-gray-600",children:m?e.jsx(S,{className:"h-4 w-4"}):e.jsx(E,{className:"h-4 w-4"})}),e.jsx("span",{children:O(n)})]}),!m&&e.jsx("div",{className:"mt-4 space-y-4 pl-4 border-l-2 border-blue-200",children:v(t,[...s,n])})]},n)}return N(n,t,s.map(String))});return e.jsx("div",{className:"space-y-6",children:v(d)})};function q({sectionId:i,sectionName:r,dataFile:o,onSave:d}){const[g,h]=l.useState(null),[j,u]=l.useState(!0),[b,f]=l.useState(null),[p,y]=l.useState("idle"),[N,C]=l.useState(!1);l.useEffect(()=>{v()},[o]);async function v(){try{u(!0);const n=await fetch(`/data/${o}`);if(!n.ok)throw new Error(`Failed to load ${o}`);const t=await n.json();h(t),f(null),C(!1)}catch(n){f(n.message)}finally{u(!1)}}function a(n){h(n),C(!0),f(null)}function s(){try{y("saving"),d&&d(g),setTimeout(()=>{y("saved"),C(!1),setTimeout(()=>y("idle"),2e3)},500)}catch(n){y("error"),f("Failed to save: "+n.message)}}return j?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsxs("span",{className:"ml-3 text-gray-600",children:["Loading ",r,"..."]})]}):b&&!g?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-red-800 font-semibold mb-2",children:["Error Loading ",r]}),e.jsx("p",{className:"text-red-600 text-sm",children:b}),e.jsx("button",{onClick:v,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Try Again"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:r}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Edit ",o]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:v,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Reset"}),e.jsxs("button",{onClick:s,disabled:p==="saving"||!N,className:`px-6 py-2 rounded-lg font-medium transition-colors ${p==="saved"?"bg-green-600 text-white":p==="error"?"bg-red-600 text-white":N?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[p==="saving"&&"Saving...",p==="saved"&&"âœ“ Saved",p==="error"&&"âœ— Error",p==="idle"&&(N?"Save Changes":"No Changes")]})]})]})}),b&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-600 text-sm",children:b})}),g&&e.jsx(G,{data:g,onChange:a,title:r})]})}export{q as GenericEditor,q as default};
